var content=(function(){"use strict";function S(e){return e}const m={matches:["https://www.facebook.com/*"],main(){console.log("FB Reels Speed Extension Loaded");const e={childList:!0,subtree:!0},t=r=>{if(r.parentElement?.querySelector(".fb-speed-controller"))return;const o=document.createElement("div");o.className="fb-speed-controller",Object.assign(o.style,{position:"absolute",top:"10px",right:"10px",zIndex:"9999",display:"flex",gap:"4px",backgroundColor:"rgba(0, 0, 0, 0.6)",padding:"4px",borderRadius:"8px",backdropFilter:"blur(4px)"}),[.5,1,1.5,2,2.5,3].forEach(p=>{const i=document.createElement("button");i.innerText=`${p}x`,Object.assign(i.style,{background:"transparent",color:"white",border:"none",cursor:"pointer",padding:"4px 8px",fontSize:"12px",fontWeight:"bold",borderRadius:"4px",transition:"background 0.2s"}),i.onmouseenter=()=>i.style.backgroundColor="rgba(255,255,255,0.2)",i.onmouseleave=()=>i.style.backgroundColor="transparent",i.onclick=b=>{b.preventDefault(),b.stopPropagation(),r.playbackRate=p,Array.from(o.children).forEach(E=>E.style.color="white"),i.style.color="#4ade80"},p===1&&(i.style.color="#4ade80"),o.appendChild(i)});const h=r.parentElement;h&&(h.style.position="relative",h.appendChild(o))};new MutationObserver(r=>{for(const o of r)o.type==="childList"&&document.querySelectorAll("video").forEach(t)}).observe(document.body,e),document.querySelectorAll("video").forEach(t)}},g=globalThis.browser?.runtime?.id?globalThis.browser:globalThis.chrome;function s(e,...t){}const f={debug:(...e)=>s(console.debug,...e),log:(...e)=>s(console.log,...e),warn:(...e)=>s(console.warn,...e),error:(...e)=>s(console.error,...e)};class c extends Event{constructor(t,n){super(c.EVENT_NAME,{}),this.newUrl=t,this.oldUrl=n}static EVENT_NAME=d("wxt:locationchange")}function d(e){return`${g?.runtime?.id}:content:${e}`}function v(e){let t,n;return{run(){t==null&&(n=new URL(location.href),t=e.setInterval(()=>{let r=new URL(location.href);r.href!==n.href&&(window.dispatchEvent(new c(r,n)),n=r)},1e3))}}}class a{constructor(t,n){this.contentScriptName=t,this.options=n,this.abortController=new AbortController,this.isTopFrame?(this.listenForNewerScripts({ignoreFirstEvent:!0}),this.stopOldScripts()):this.listenForNewerScripts()}static SCRIPT_STARTED_MESSAGE_TYPE=d("wxt:content-script-started");isTopFrame=window.self===window.top;abortController;locationWatcher=v(this);receivedMessageIds=new Set;get signal(){return this.abortController.signal}abort(t){return this.abortController.abort(t)}get isInvalid(){return g.runtime.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(t){return this.signal.addEventListener("abort",t),()=>this.signal.removeEventListener("abort",t)}block(){return new Promise(()=>{})}setInterval(t,n){const r=setInterval(()=>{this.isValid&&t()},n);return this.onInvalidated(()=>clearInterval(r)),r}setTimeout(t,n){const r=setTimeout(()=>{this.isValid&&t()},n);return this.onInvalidated(()=>clearTimeout(r)),r}requestAnimationFrame(t){const n=requestAnimationFrame((...r)=>{this.isValid&&t(...r)});return this.onInvalidated(()=>cancelAnimationFrame(n)),n}requestIdleCallback(t,n){const r=requestIdleCallback((...o)=>{this.signal.aborted||t(...o)},n);return this.onInvalidated(()=>cancelIdleCallback(r)),r}addEventListener(t,n,r,o){n==="wxt:locationchange"&&this.isValid&&this.locationWatcher.run(),t.addEventListener?.(n.startsWith("wxt:")?d(n):n,r,{...o,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),f.debug(`Content script "${this.contentScriptName}" context invalidated`)}stopOldScripts(){window.postMessage({type:a.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName,messageId:Math.random().toString(36).slice(2)},"*")}verifyScriptStartedEvent(t){const n=t.data?.type===a.SCRIPT_STARTED_MESSAGE_TYPE,r=t.data?.contentScriptName===this.contentScriptName,o=!this.receivedMessageIds.has(t.data?.messageId);return n&&r&&o}listenForNewerScripts(t){let n=!0;const r=o=>{if(this.verifyScriptStartedEvent(o)){this.receivedMessageIds.add(o.data.messageId);const u=n;if(n=!1,u&&t?.ignoreFirstEvent)return;this.notifyInvalidated()}};addEventListener("message",r),this.onInvalidated(()=>removeEventListener("message",r))}}function T(){}function l(e,...t){}const w={debug:(...e)=>l(console.debug,...e),log:(...e)=>l(console.log,...e),warn:(...e)=>l(console.warn,...e),error:(...e)=>l(console.error,...e)};return(async()=>{try{const{main:e,...t}=m,n=new a("content",t);return await e(n)}catch(e){throw w.error('The content script "content" crashed on startup!',e),e}})()})();
content;